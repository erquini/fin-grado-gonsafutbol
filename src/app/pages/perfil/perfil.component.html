<div class="container mt-5 perfil-container text-center">
  <!-- Mensajes -->
  <div *ngIf="mensaje" class="alert alert-success">{{ mensaje }}</div>
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <!-- Tarjeta de perfil -->
  <div class="card shadow-lg p-4 rounded-4 border-0 bg-white mb-4">
    <!-- Avatar -->
    <div class="mb-3">
      <img [src]="avatar || 'assets/images/default-avatar.png'" alt="Avatar"
           class="rounded-circle shadow" style="width: 140px; height: 140px; object-fit: cover;">
    </div>

    <!-- Información del usuario -->
    <h3 class="mb-1">{{ nombre }}</h3>
    <p class="text-muted mb-1">{{ email }}</p>
    <p class="mb-1"><i class="bi bi-house-door"></i> {{ direccion }}</p>
    <p><i class="bi bi-telephone"></i> {{ telefono }}</p>

    <!-- Botones -->
    <div class="d-flex justify-content-center gap-2 mt-3 flex-wrap">
      <button class="btn btn-outline-primary" (click)="alternarEdicion()">
        ✏️ {{ modoEdicion ? 'Cancelar' : 'Editar perfil' }}
      </button>

      <label class="btn btn-outline-secondary mb-0">
        📤 Cambiar avatar
        <input type="file" hidden (change)="onFileSelected($event)" accept="image/*">
      </label>

      <button class="btn btn-success" (click)="subirAvatar()" [disabled]="!archivoSeleccionado">
        💾 Subir
      </button>
    </div>
  </div>

  <!-- Formulario de edición -->
  <div *ngIf="modoEdicion" class="card p-4 shadow border-0 bg-light mb-4 text-start">
    <h4 class="mb-3">Editar información</h4>
    <form ngForm>
      <div class="mb-3">
        <label class="form-label fw-bold">Nombre</label>
        <input type="text" class="form-control" [(ngModel)]="nombre" name="nombre">
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Correo</label>
        <input type="email" class="form-control" [(ngModel)]="email" name="email">
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Dirección</label>
        <input type="text" class="form-control" [(ngModel)]="direccion" name="direccion">
      </div>
      <div class="mb-3">
        <label class="form-label fw-bold">Teléfono</label>
        <input type="tel" class="form-control" [(ngModel)]="telefono" name="telefono">
      </div>
      <button type="submit" class="btn btn-success w-100 fw-bold mt-2" (click)="guardarCambios()">
        💾 Guardar cambios
      </button>
    </form>
  </div>


<section class="extra-info mt-5 mb-5 ancho-limitado">
  <h4 class="text-secondary mb-4 text-center">🎉 Ventajas de tener cuenta</h4>

  <div class="row justify-content-center">
    <div class="col-sm-6 col-md-4 col-lg-3 mb-4 px-3">
      <div class="p-4 bg-white rounded-4 shadow h-100 text-center">
        <i class="bi bi-tag fs-1 text-success"></i>
        <h5 class="mt-3 fw-bold">Ofertas exclusivas</h5>
        <p class="text-muted small">Accede a descuentos y promociones especiales solo para miembros registrados.</p>
      </div>
    </div>

    <div class="col-sm-6 col-md-4 col-lg-3 mb-4 px-3">
      <div class="p-4 bg-white rounded-4 shadow h-100 text-center">
        <i class="bi bi-bag-check fs-1 text-primary"></i>
        <h5 class="mt-3 fw-bold">Historial de compras</h5>
        <p class="text-muted small">Consulta tus pedidos anteriores y haz seguimiento fácilmente.</p>
      </div>
    </div>

    <div class="col-sm-6 col-md-4 col-lg-3 mb-4 px-3">
      <div class="p-4 bg-white rounded-4 shadow h-100 text-center">
        <i class="bi bi-stars fs-1 text-warning"></i>
        <h5 class="mt-3 fw-bold">Personalización premium</h5>
        <p class="text-muted small">Guarda tus diseños favoritos y crea camisetas únicas para ti.</p>
      </div>
    </div>
  </div>
</section>
</div>
